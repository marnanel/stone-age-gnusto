<h1 class="page-header" style="text-align: center"><img src="http://gnusto.org/symbols/component" width="30" height="10" alt="" /><img src="http://gnusto.org/lanterns/lantern.png" alt="" width="32" height="64" /><img src="http://gnusto.org/symbols/chrome" width="30" height="10" alt="" /><br />What's the difference between components and chrome?</h1>

<p><a href="http://www.mozilla.org">Mozilla</a> has two ways in which a JavaScript-based extension can run.</p>

<p><img src="http://gnusto.org/symbols/chrome" width="30" height="10" alt="" /><b>Chrome:</b> One of them, <dfn>chrome</dfn>, works very much like the way JavaScript programs run on an ordinary web page: you have a particular document, and the JavaScript sits behind it and provides the magic to make it work. The document could either be an <acronym text="hypertext markup language"><a href="http://www.w3.org/MarkUp/">HTML</a></acronym> document, as on the web, or it could be written in Mozilla's own language, <acronym text="XML user interface language"><a href="http://www.mozilla.org/projects/xul/">XUL</a></acronym>, which defines the look of application windows and dialogues; they're loaded from your hard disk and not the web, and accessed by an address beginning <code>chrome:</code> rather than <code>http:</code>, such as <blockquote><code>chrome://gnusto/content/gnusto.xul</code></blockquote></p>

<p>The big <em>difference</em> between chrome JavaScript and web JavaScript is that web JavaScript isn't allowed to read your hard disk, play with random network connections, and so on. After all, it could have been written by just anyone, so it's wise to treat it with some caution. Chrome JavaScript, on the other hand, is trusted and treated as part of your browser itself-- it's allowed to do pretty much anything Mozilla can do.</p>

<p>Chrome lives in the <code>chrome/</code> directory of your Mozilla installation. Gnusto's chrome JavaScript is in <code>chrome/gnusto/content/</code>. This code is a duplicate of <a href="http://www.mozdev.org/source/browse/gnusto/src/gnusto/content/"><code>$/src/gnusto/content</code></a> from CVS. At present, <a href="jury-rig.html">jury-rig</a> does <strong>not</strong> update this for you-- it's just an identical copy, anyway. Use symlinks if you have them, or copy the whole directory into your Mozilla directory, or pester Marn to add the capability to jury-rig. It'll come soonish.</p>

<p><img src="http://gnusto.org/symbols/component" width="30" height="10" alt="" /><b>Components:</b> On the other hand, under the bonnet, Mozilla uses a component system called <a href="http://www.mozilla.org/projects/xpcom/"><acronym text="Cross-platform front end">XPCOM</acronym></a>. (<a href="components-101.html">How does a component system work?</a>) The components can be written in a bunch of different languages-- the main ones are written in C++, but you can also write them <a href="http://aspn.activestate.com/ASPN/Downloads/Komodo/PyXPCOM/readme">in Python</a> or <a href="http://www.mozilla.org/scriptable/">in JavaScript</a>, which is where we come in. Components written in JavaScript work almost the same as those written in C++, but with the added advantage of portability without compilation.</p>

<p>Components live in the <code>components/</code> directory of your Mozilla installation. Gnusto's component JavaScript and <a href="http://www.mozilla.org/scriptable/xpidl/">XPIDL</a> are in the subdirectories of <a href="http://www.mozdev.org/source/browse/gnusto/src/gnusto/xpcom/"><code>$/src/xpcom</code></a> in CVS; <a href="jury-rig.html">jury-rig</a> should handle everything to do with compiling and copying these files between your Gnusto source directory and your Mozilla installation.</p>

<p><b>Why use components rather than chrome?</b> We are gradually moving parts of <a href="/code/">Gnusto's code</a> from chrome to component form, because...</p>
